esphome:
  name: philips

esp32:
  board: lolin_s2_mini

external_components:
  - source:
      type: local
      path: ../components

logger:
  baud_rate: 0

uart:
  - tx_pin: GPIO39
    rx_pin: GPIO37
    baud_rate: 115200
    id: uart_mainboard
  - tx_pin: GPIO17
    rx_pin: GPIO21
    baud_rate: 115200
    id: uart_display

philips_series_3200:
  display_uart: uart_display
  mainboard_uart: uart_mainboard
  power_pin: GPIO35
  invert_power_pin: false
  power_trip_delay: 750ms
  id: philips

text_sensor:
  - platform: philips_series_3200
    controller_id: philips
    id: status
    name: "Status"
    use_latte: true

switch:
  - platform: philips_series_3200
    controller_id: philips
    name: "Cleaning Power"
    icon: mdi:coffee-maker
  - platform: philips_series_3200
    controller_id: philips
    name: "Power"
    clean: false
    icon: mdi:coffee-maker

button:
  - platform: philips_series_3200
    controller_id: philips
    action: MAKE_COFFEE
    name: "Make Coffee"
    icon: mdi:coffee

  - platform: philips_series_3200
    controller_id: philips
    action: SELECT_HOT_WATER
    name: "Select Hot Water"
    long_press: true
    icon: mdi:tea

number:
  - platform: philips_series_3200
    type: bean
    name: "Coffee beans"
    controller_id: philips
    status_sensor_id: status
    source: COFFEE
  - platform: philips_series_3200
    type: size
    name: "Coffee size"
    controller_id: philips
    status_sensor_id: status
    source: COFFEE
